def entorno = "PRODUCCION"

pipeline {
    agent any
    stages { 
        stage('Estructuras de control (IF)') {
            steps {
                script {
                    def condicion 

                    //condicion = input(id: 'condicionInput', message: '¿Se debe desplegar?', parameters: [booleanParam(name: 'condicion', defaultValue: false, description: 'Condición')])
                    condicion = choice(name: 'seleccion', choices: ['Si', 'No'], description: 'Se debe desplegar?')
                    if (condicion.equals('Si')) {
                        echo "Ejecuto acciones para desplegar"
                    } else {
                        echo "Ejecuto acciones para no desplegar (puede ser establecer una condición para que no se ejecute siguiente fase)"
                    }
                }
            }
        }

        stage ('Estructuras de control (SWITCH)') {
            steps {

                script {
                    entorno = input(
                        message: "Indique el entorno",
                        parameters: [string(name: 'entorno', defaultValue: 'PRODUCCION', description: 'Entorno donde se realizarán las acciones')]
                    )
                
                    switch (entorno) {
                        case 'PRODUCCION':
                            echo "Entorno producción"
                        break
                        case 'PREPRODUCCION':
                            echo "Entorno de preproducción"
                        break
                        case 'DESARROLLO':
                            echo "Entorno de desarrollo"
                        break
                        default:
                            echo "Entorno no reconocido"
                        break

                    }
                }
            }
        }
    }
}